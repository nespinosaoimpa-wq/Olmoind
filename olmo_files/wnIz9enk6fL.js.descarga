;/*FB_PKG_DELIM*/

__d("CAAFetaIGLoginHomepage.react",["CAAFetaGlimmer.react","CAAFetaIGLoginHomepageQuery.graphql","CAAFetaLoginHomepageLayout.react","CAAWebWaterfallIdSingleton","CometDarkModeSetting","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAEntAccountTypeNameUtils","XMDSTheme.react","cr:5058","deferredLoadComponent","react","requireDeferredForDisplay","useCAAFetaIGFBConnectV2","useCAAFetaIGOnetapMigration"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useRef,f=c.useState,g=r("deferredLoadComponent")(r("requireDeferredForDisplay")("PolarisShellFooter.react").__setRef("CAAFetaIGLoginHomepage.react")),h=r("deferredLoadComponent")(r("requireDeferredForDisplay")("CAAFetaIGLoginHomepageBranding.react").__setRef("CAAFetaIGLoginHomepage.react")),y=r("deferredLoadComponent")(r("requireDeferredForDisplay")("CAAFetaLoginHomepageCTA.react").__setRef("CAAFetaIGLoginHomepage.react"));function C(t){var a,l=t.entryPoints,s=t.extraProps,c=t.props,C=t.queries,b=o("CometRelay").usePreloadedQuery(e!==void 0?e:e=n("CAAFetaIGLoginHomepageQuery.graphql"),C.query),v=d(null),S=m(n("cr:5058")&&c.routeProps.forceAuthentication!==!0?n("cr:5058"):v),R=r("useCAAFetaIGFBConnectV2")(c.routeProps.nextCuid,c.routeProps.cryptedString,(a=S==null?void 0:S.obid)!=null?a:""),L=_(!1);p(function(){(S==null?void 0:S.obid)!=null&&(S==null?void 0:S.obid)!==""&&!L.current&&(R(),L.current=!0)},[S==null?void 0:S.obid,R]);var E=f(function(){return o("CometDarkModeSetting").initialGuessForDarkModeOnClient}),k=E[0],I=E[1];p(function(){var e=window.matchMedia==null?void 0:window.matchMedia("(prefers-color-scheme: dark)");(e==null?void 0:e.matches)!==k&&I(e==null?void 0:e.matches);var t=function(t){return I(t.matches)};return e==null||e.addEventListener("change",t),function(){return e==null?void 0:e.removeEventListener("change",t)}},[k]);var T=k?"dark":"light";c.routeProps.waterfallId!=null&&r("CAAWebWaterfallIdSingleton").setWaterfallID(c.routeProps.waterfallId);var D=o("MAEntAccountTypeNameUtils").appIdToMAEntAccountType(c.routeProps.appId),x=r("useCAAFetaIGOnetapMigration")(c.routeProps.cryptedString,c.routeProps.nextCuid,b),$=_(!1);return p(function(){$.current||x(),$.current=!0},[x]),u.jsx(r("XMDSTheme.react"),{displayMode:T,children:u.jsx(r("CometErrorBoundary.react"),{fallback:function(){return u.jsx("div",{})},children:u.jsx(r("CAAFetaLoginHomepageLayout.react"),{appType:D,footer:u.jsx(r("CometErrorBoundary.react"),{fallback:function(){return u.jsx("div",{})},children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("CAAFetaGlimmer.react"),{type:"footerIG"}),name:i.id,children:u.jsx(g,{})})}),leftComponent:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("CAAFetaGlimmer.react"),{type:"branding"}),name:i.id,children:u.jsx(h,{query:b})}),rightComponent:u.jsx(r("CometErrorBoundary.react"),{fallback:function(){return u.jsx("div",{})},children:u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("CAAFetaGlimmer.react"),{type:"loginForm"}),name:i.id,children:u.jsx(y,{appId:c.routeProps.appId,authDomainDataKey:c.routeProps.authDomainDataKey,cryptedString:c.routeProps.cryptedString,forceLoginUsername:c.routeProps.forceLoginUsername,lids:c.routeProps.lids,next:c.routeProps.next,nextCuid:c.routeProps.nextCuid,otps:c.routeProps.otps,query:b})})})})})})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),98);