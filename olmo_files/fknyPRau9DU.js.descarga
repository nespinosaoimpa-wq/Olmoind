;/*FB_PKG_DELIM*/

__d("useCAALoginRequestExtraInfo",["BDClientSignalCollectionTrigger","BDSignalCollectionData","CometRelay","FBLogger","FormTypeABTester","ScreenDimensionsAutoSet","Sketch","getBrowserGMTOffsetAdjustedForSkew","guid","promiseDone","react","useCAALoginRequestExtraInfo_data.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=u.useState;function p(t,a){var i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("useCAALoginRequestExtraInfo_data.graphql"),t),s=l.ab_testing_enabled,u=(i=l.shared_prefs)!=null?i:!1,p=m("n"),_=p[0],f=p[1],g=m(""),h=g[0],y=g[1],C=m(null),b=C[0],v=C[1],S=d(),R=d();if(c(function(){var e=S.current;s===!0&&e!=null&&(R.current=new(r("FormTypeABTester"))(e))},[s]),c(function(){u===!0&&r("BDClientSignalCollectionTrigger").startLoginTimeSignalCollection(r("BDSignalCollectionData"))},[u]),l==null)throw r("FBLogger")("comet_ui").mustfixThrow("login form info failed to load");var L=l.idd_user_crypted_uid,E=l.jazoest,k=l.lgnrnd,I=l.locale,T=l.login_source,D=l.lsd,x=l.prefill_contactpoint,$=l.prefill_source,P=l.rounds,N=l.send_screen_dimensions,M=l.sketch_seed1,w=l.sketch_seed2,A=l.timestamp,F=T!=null?T:"",O={cuid:L!=null?L:"",guid:r("guid")(),jazoest:"",lgndim:h,lgnjs:_!=null?_:"",lgnrnd:k!=null?k:"",locale:I!=null?I:"",login_source:F.toLocaleLowerCase(),lsd:"",next:encodeURI(a!=null?a:""),prefill_contact_point:x!=null?x:"",prefill_source:$!=null?$:"",prefill_type:"",skstamp:b!=null?b:"",timezone:A!=null?r("getBrowserGMTOffsetAdjustedForSkew")(A).toString():""};if((D==null?void 0:D.name)!=null){var B;O.lsd=(B=D.value)!=null?B:""}if((E==null?void 0:E.name)!=null){var W;O.jazoest=(W=E.value)!=null?W:""}return x!=null&&(O.prefill_contact_point=x,O.prefill_type="contact_point"),$!=null&&(O.prefill_source=$),c(function(){f(String(Math.floor(Date.now()/1e3))),N===!0&&y(o("ScreenDimensionsAutoSet").getScreenDimensions())},[N]),c(function(){b!=null||M==null||w==null||P==null||r("promiseDone")(r("Sketch").solveAndEncode(M,w,P,"login"),function(e){v(e)})},[P,b,M,w]),[{cuid:O.cuid,guid:O.guid,jazoest:O.jazoest,lgndim:O.lgndim,lgnjs:O.lgnjs,lgnrnd:O.lgnrnd,locale:O.locale,login_source:O.login_source,lsd:O.lsd,next:O.next,prefill_contact_point:O.prefill_contact_point,prefill_source:O.prefill_source,prefill_type:O.prefill_type,skstamp:O.skstamp,timezone:O.timezone},S,R,u]}l.default=p}),98);