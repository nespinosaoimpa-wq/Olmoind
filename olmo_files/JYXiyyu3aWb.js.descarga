;/*FB_PKG_DELIM*/

__d("CAAFetaLoginHomepageCTA.react",["CAAFetaLoginHomepageCTA_query.graphql","CAAFetaLoginHomepageCTA_renderer.graphql","CAALoginLoggedOutHomeAccountSwitcherTitle.react","CAALoginLoggedOutHomeStrings","CAAWebAYMHLoggingUtils","CAAWebLoggingUtils","CAAWebLoginLoggingEventUtils","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometRelay","CometRow.react","CometRowItem.react","Locale","MAEntAccountTypeNameUtils","MetaBrandCaretLeftOutline24.svg.react","MetaBrandCaretRightOutline24.svg.react","XMDSDivider.react","XMDSIcon.react","XMDSIconButton.react","cr:369","deferredLoadComponent","emptyFunction","qex","react","requireDeferred","useMatchViewport","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useRef,f=m.useState,g=o("Locale").isRTL(),h={columnPadding:{paddingInlineStart:"x70ekce",paddingInlineEnd:"xp3wktp",paddingLeft:null,paddingRight:null,$$css:!0},loginForm:{maxWidth:"xgg1l89",width:"x1cg5xbb","@media (min-width: 1025px)_minWidth":"x8y9jov","@media (min-width: 1025px)_width":"xnh2hec",$$css:!0}},y=r("deferredLoadComponent")(r("requireDeferred")("CAALoginHomepageLoginForm.react").__setRef("CAAFetaLoginHomepageCTA.react"));function C(e){return e?"aymh":"login_manual"}var b=["/login/","/login/web/","/login.php/","/login/index.php/","/work/login/","/login/device-based/regular/login/","/login_via/app/"],v=(u=r("qex")._("369"))!=null?u:!1;function S(t){var a=t.appId,i=t.authDomainDataKey,l=t.cryptedString,u=t.forceLoginUsername,c=t.lids,m=t.loginFormProvider,S=t.next,R=t.nextCuid,L=t.otps,E=t.query,k=t.showBothAymhAndLoginFormProp,I=o("CometRelay").useFragment(e!==void 0?e:e=n("CAAFetaLoginHomepageCTA_query.graphql"),E),T=o("CometRelay").useFragment(s!==void 0?s:s=n("CAAFetaLoginHomepageCTA_renderer.graphql"),I.caa_feta_logged_out_homepage_root),D=function(){return!G||b.includes(o("CAAWebLoginLoggingEventUtils").getCurrentPath())?!1:k===!0},x=o("CAAWebLoginLoggingEventUtils").getFinalEventStep("home_page"),$=T.aymh_profile_count,P=$>0,N=v&&m==null,M=f(N),w=M[0],A=M[1],F=_(!1),O=f(null),B=O[0],W=O[1];p(function(){if(!F.current&&N&&P){if(B==null)return;F.current=!0;var e=B.querySelectorAll("input"),t=Array.from(e).some(function(e){return e.value.length>0});if(t)return;A(!1)}},[P,N,B]);var q=!w&&P,U=C(q),V=o("MAEntAccountTypeNameUtils").appIdToMAEntAccountType(a),H=r("useSinglePartialViewImpression")({onImpressionStart:function(){o("CAAWebLoggingUtils").logAymhEvent({event:"aymh_screen_skipped_no_profiles",event_category:"prefill_login_signal",event_flow:"aymh",event_step:o("CAAWebLoginLoggingEventUtils").getFinalEventStep("home_page"),extra_client_data:{path:o("CAAWebLoginLoggingEventUtils").getCurrentPath()}},V)}}),G=r("useMatchViewport")("max","width",1024),z=k===!0,j=function(){return A(!1)},K=function(){o("CAAWebAYMHLoggingUtils").logIntoAnotherAccountClickedLogging(V,$),A(!0)},Q=P&&d.jsx(r("CometRowItem.react"),{children:d.jsx(r("XMDSIconButton.react"),{"aria-label":r("CAALoginLoggedOutHomeStrings").loginBackToAYMH,onPress:j,testid:void 0,children:d.jsx(r("XMDSIcon.react"),{color:"primary",icon:r(g?"MetaBrandCaretRightOutline24.svg.react":"MetaBrandCaretLeftOutline24.svg.react"),size:24})})}),X=d.jsxs(r("CometRow.react"),{align:"start",paddingHorizontal:0,spacingVertical:0,verticalAlign:"center",children:[Q,d.jsx(r("CometRowItem.react"),{children:d.jsx(r("CAALoginLoggedOutHomeAccountSwitcherTitle.react"),{appType:V})})]}),Y;m!=null?Y=m(j,w):v&&n("cr:369")!=null?Y=d.jsx("div",{ref:W,children:d.jsx(r("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:h.columnPadding,children:d.jsxs(r("CometColumn.react"),{spacing:16,children:[d.jsx(r("CometColumnItem.react"),{align:"start",children:X}),d.jsx(r("CometColumnItem.react"),{align:"start",children:d.jsx(n("cr:369"),{appId:a,authDomainDataKey:i,eventFlow:"login_manual",eventStep:x,hasBottomPadding:!1,hasTopPadding:!1,lids:c,next:S,onFocusField:r("emptyFunction"),paddingHorizontal:0,prefillContactpointProp:u,query:I,xstyle:h.loginForm})})]})})}):Y=d.jsx(y,{appId:a,authDomainDataKey:i,doLoginBackToAYMH:j,eventFlow:"login_manual",eventStep:x,lids:c,next:S,prefillContactpointProp:u,query:I,showBackToAYMH:w});var J=D(),Z=babelHelpers.extends({appId:a,authDomainDataKey:i,cryptedString:l,customTitle:void 0,doLoginBackToAYMH:j},J?{}:{doUseAnotherProfileSubmit:K},{eventFlow:U,eventStep:x,isBreakpoint:J,lids:c,next:S,nextCuid:R,otps:L,query:I,showBackToAYMH:w}),ee=d.jsx(o("CometRelay").MatchContainer,{match:T.renderer,props:babelHelpers.extends({fragmentKey:T.renderer,query:I},Z)}),te=d.jsx(o("CometRelay").MatchContainer,{match:T.credential_manager_login_renderer,props:{appId:a,authDomainDataKey:i,eventFlow:U,eventStep:x,lids:c,next:S,queryKey:T.credential_manager_login_renderer}});return J&&P?d.jsxs(r("CometColumn.react"),{align:"center",expanding:!0,ref:null,verticalAlign:"center",children:[d.jsx(r("CometColumnItem.react"),{children:d.jsxs(r("CometErrorBoundary.react"),{fallback:function(){return d.jsx("div",{})},children:[ee,d.jsx("div",{className:"x1yztbdb xg87l8a xgg1l89 x1cg5xbb x8y9jov xnh2hec",children:d.jsx(r("XMDSDivider.react"),{})})]})}),d.jsx(r("CometColumnItem.react"),{children:Y})]}):d.jsx(r("CometColumn.react"),{align:"center",expanding:!0,ref:P?null:H,verticalAlign:"center",children:d.jsxs(r("CometColumnItem.react"),{children:[d.jsx(r("CometErrorBoundary.react"),{fallback:function(){return Y},children:w||z?Y:ee}),d.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:te})]})})}S.displayName=S.name+" [from "+i.id+"]",l.default=S}),98);